<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title>星星扩展-MOD教程</title>
		<link rel="icon" href="img/newicon.ico" type="image/x-icon">
		<link rel="stylesheet" type="text/css" href="./css/base.css" />
		<link rel="stylesheet" type="text/css" href="./css/baseNew.css" />
		<link rel="stylesheet" type="text/css" href="./font/css/all.css" />
		<style type="text/css">
			.textBox img {
				width: 35%;
				border: rgb(255, 85, 0) 2px solid;
				border-radius: 4px;
			}

			.contentBox>h2 {
				font-size: 20px;
			}

			.contentBox h4 {
				margin: 5px 0;
			}

			.textBox {
				font-size: 16px;
			}
		</style>
	</head>

	<body>
		<div id="mainBox">
			<div id="backgroundHeadBox">
				<div id="headBox">
					<img id="logoImg" src="./img/logo_b.png" alt="" />
					<div id="navigatorBox">
						<a href="Index.html" class="navigatorOption"><i class="fas fa-home"></i>首页</a>
						<a href="install.html" class="navigatorOption"><i class="fab fa-instalod"></i>安装教程</a>
						<a href="error.html" class="navigatorOption"><i class="fas fa-wrench"></i>崩溃解决</a>
						<a href="Information.html" class="navigatorOption"><i class="fas fa-disease"></i>星星攻略</a>
						<a href="updateLog.html" class="navigatorOption"><i class="fas fa-clipboard-list"></i>更新日志</a>
						<a  href="newmod.html" class="navigatorOption"><i class="fas fa-disease"></i>新MOD</a>
						<a href="downloadAndUpdate.html" class="navigatorOption"><i class="fas fa-download"></i>下载与更新</a>
						<a href="tutorial.html" class="navigatorOption"><i class="fas fa-code"></i>学习制作<div
								class="highlightColor0 highlight0"></div></a>
						<a href="support.html" class="navigatorOption"><i class="fas fa-laugh-beam"></i>支持作者（赞助）</a>
					</div>
				</div>
			</div>
			<div id="backgroundBodyBox">
				<div id="bodyBox">
					<div id="bodyLeft">
						<div class="contentBox">
							<h2>一.Mod文件解析</h2>
							<div class="textBox">
								<div id="recentEventContent01" class="recentEventContent">
									<div id="mainText01" class="mainText">
										<h4> <i class="fas fa-hand-point-right"></i>1.Mod文件所在位置</h4>
										<p><i class="fas fa-leaf"></i> 骑砍二mod文件主要是放在Modules文件夹下，在启动时才能够检测到。</p>
										<h4> <i class="fas fa-hand-point-right"></i>2.Mod文件结构（主要包含以下文件：）</h4>
										<p><i class="fas fa-leaf"></i> bin：放置C#代码库的文件夹。可选</p>
										<p><i class="fas fa-leaf"></i> ModuleData：Mod主要的xml数据所在的文件夹，如兵种、装备。可选。</p>
										<p><i class="fas fa-leaf"></i> SubModule.xml：游戏主体识别mod的必要文件。必须有。</p>
										<p><i class="fas fa-leaf"></i>
											Assets：Mod所有打包后的模型所在的文件夹，有时也会是AssetPackages或者EmAssetPackages。可选</p>
										<p><i class="fas fa-leaf"></i>
											AssetSources：模型源文件所在文件夹，在发布的mod中这个文件夹通常是空的，但是如果有模型，这个文件夹就必须有，不然在游戏里mod显示会异常。可选
										</p>
										<p><i class="fas fa-leaf"></i> GUI：与界面相关的xml文件。可选</p>
										<p><i class="fas fa-leaf"></i> SceneObj：与场景相关的文件。可选</p>
										<p><i class="fas fa-leaf"></i> SceneEditData：与场景编辑数据相关的文件。可选</p>
										<p><i class="fas fa-leaf"></i> RuntimeDataCache：运行时数据缓存。可选</p>
									</div>
								</div>
							</div>
							<br />
							<h2>二.制作兵种简要教程</h2>
							<div class="textBox">
								<p><i class="fas fa-leaf"></i> 制作一个兵种mod的文件结构中必须具备的是：ModuleData、SubModule.xml
								</p>
								<p><i class="fas fa-leaf"></i> 在ModuleData里面创建一个士兵角色的xml文件，在里面写上新的士兵代码。</p>
								<p><i class="fas fa-leaf"></i> 在SubModule.xml里面引入这个文件。</p>
							</div>


							<br />
							<h2>三.制作部分功能的思路与要点</h2>
							<div class="textBox">
								<p><i class="fas fa-leaf"></i>
									前提：如果你没学过编程，那么制作功能mod会有一定难度，但是并不是没办法完成的。当然，如果学过，那做起来就相对轻松一些。我的制作群（426771809）里面有零基础入门教程，在此网页中，就不再讲解具体内容了。那么具体讲什么呢？让我们慢慢来.....
								</p>
								<p class="mainTitleTutorail2"><i class="fas fa-leaf"></i> 1.功能MOD的原理</p>
								<p><i class="fas fa-leaf"></i>
									大地图事件：游戏里面的许多事情都是有规律来执行的，比如每天结算工资，这些通常都称之为事件，比如我们想要添加一个每天给玩家10第纳尔的事件，
									那么我们就需要将这个事件添加进游戏中“每天执行的事件”中，就相当于有一个盒子，里面装了一堆每天都要执行一次的事情，如果要添加新的事件，就需要将事件写好，放到盒子里。除了每天执行事件的这个盒子之外，还有每小时、每周、每帧等盒子，都可以加入新的事件。添加事件简单总结就是：第一步写事件，第二步把事件放到盒子里。我在群里发的教程中具体演示了怎么写事件以及把事件添加到盒子里的过程。通过这个步骤就已经能够实现不少功能了，比如强化AI部队：每天给领主第纳尔、经验，给士兵经验等，当然还有非常多可能，比如我们要写一个当玩家建立家族之后，给玩家10个具装骑兵，我们就能够在每天或者每小时执行的事件里面添加检测玩家是否建立家族的事件，或者添加到每帧执行的事件中，但是一般不这样做，因为这种事件让它每秒执行几十次是不划算的，太耗费性能。当然还有其他办法来实现，比如直接将添加10个具装骑兵的事件写到玩家建立家族的函数里面，这个稍微麻烦一些，这里就不详细讲了。
								</p>
								<p><i class="fas fa-leaf"></i>
									场景事件：在制作功能mod时，添加事件通常分为这两大类，大地图与场景。场景事件其实很容易理解，比如我们要添加一个功能：玩家在战斗时，每秒恢复1滴血，那么我们就需要在任务场景的每秒执行事件的那一个盒子里面加入我们自己写的事件。当然可能没有每秒执行事件的这个盒子，通常是每帧或者屏幕帧执行事件比较多（这两个的执行都是每秒几十次，但是前者更快，后者慢一些。），这个时候我们只需要写一个简单的时间判断逻辑就能够实现每秒执行。
								</p>
								<p><i class="fas fa-leaf"></i>
									和谐补丁：这是功能mod的第二个重要手段。上面讲的添加事件，我们只能够添加新的自定义事件，却改变不了已有的事件，比如我需要扩大同伴数量，但是游戏并没有直接提供这样的修改渠道，我们就需要使用补丁的形式，将我们新写的计算同伴数量的方法去覆盖原版的方法，这样就实现了对原版逻辑的修改。
								</p>
							</div>
							
						</div>
					</div>
					<div id="bodyRight">
						<h2>简介</h2>
						<p>此网站暂时专门用于解决以下问题：</p>
						<p><i class="fas fa-bookmark"></i>骑砍二玩家们在使用星星扩展的一系列问题，包括安装和报错问题。</p>
						<p><i class="fas fa-bookmark"></i>实时提供mod的最新消息，以供喜爱本mod的朋友们及时获取。</p>
						<p><i class="fas fa-bookmark"></i>分享作者写的或者将要写的一些mod基础教程以及其他mod制作相关的工具。</p>
						<br />
						<h2 >使用提示</h2>
						<p><i class="fas fa-bookmark"></i>单击网站内的图片可放大！</p>
						<br />
					</div>
				</div>
			</div>
			<div id="footerBox">
				<div id="declaration">
					<p>本网站几乎所有资源均来自于作者原创，未经允许，禁止转载，否则后果自负。</p>
					<p>在此后的开发中可能会引用其他网络资源，如果您是该网络资源的作者，可以及时联系站长删除该资源。</p>
					<p>站长联系方式为：2754422056@qq.com</p>
				</div>
			</div>
		</div>




		<!-- 图片放大容器 -->
		<div id="fullscreenContainer" class="fullscreen" style="display:none;">
			<span id="closeBtn" class="close-btn">&times;</span>
			<span id="leftArrow" class="arrow left">&lt;</span>
			<img class="littleImage" id="fullscreenImg" src="" alt="Full Screen Image">
			<span id="rightArrow" class="arrow right">&gt;</span>
		</div>
		<script src="./js/base.js"></script>
		<script type="text/javascript">
			NavHoverEvent(".navigatorOption", 2);

			function NavHoverEvent(navBoxClassName, disableIndex) {
				const navMenuOptions = document.querySelectorAll(navBoxClassName);
				if (navMenuOptions.length > 0) {
					navMenuOptions.forEach((item, index) => {
						if (index !== disableIndex) {
							item.addEventListener('mouseenter', () => {
								var highlight = document.createElement('div');
								highlight.className = "highlight";
								item.appendChild(highlight);
								AddClassName(item, "highlightColor");
								const rect = item.getBoundingClientRect();
								const highlightWidth = rect.width;
								const highlightLeft = rect.left + window.pageXOffset;
								// highlight.style.transform = `translateX(${highlightLeft}px) scaleX(${highlightWidth})`;
							});
							item.addEventListener('mouseleave', () => {
								RemoveElememts(".highlight");
								RemoveClassName(item, "highlightColor");
							});
						}
					});
				}
			}
		</script>
	</body>
</html>